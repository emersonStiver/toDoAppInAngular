import{a as $}from"./chunk-KJYKEEK3.js";import{E as x,G as y,H as u,J as a,K as p,L as _,M as w,N as S,O as d,P as g,Q as A,Y as T,ca as D,da as N,fa as O,ga as F,ia as M,ja as I,la as P,ma as R,na as k,o as r,q as v,r as h,w as f,y as b,z as s}from"./chunk-TQI6H6BR.js";var c=(t,o)=>{let e=r(k),i=r(R),n=r(I);return e.isAuthenticated()?!0:(i.getUsers().length===0?n.navigate(["/register"],{queryParams:{returnUrl:o.url}}):n.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)};var j=[{path:"",redirectTo:"/register",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-HH4GWY3L.js").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-4X5UO3AC.js").then(t=>t.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-BGGLZ66M.js").then(t=>t.DashboardComponent),canActivate:[c]},{path:"task/:id",loadComponent:()=>import("./chunk-RB7BJZIX.js").then(t=>t.TaskDetailComponent),canActivate:[c]},{path:"settings",loadComponent:()=>import("./chunk-UE2S72ZB.js").then(t=>t.SettingsComponent),canActivate:[c]},{path:"**",redirectTo:"/dashboard"}];var E={providers:[T({eventCoalescing:!0}),P(j)]};function q(t,o){if(t&1){let e=w();a(0,"div",2)(1,"span"),g(2),p(),a(3,"button",3),S("click",function(){let n=v(e).$implicit,C=d();return h(C.remove(n.id))}),g(4," \u2715 "),p()()}if(t&2){let e=o.$implicit,i=d();u("ngClass",i.getNotificationClass(e.type)),y("aria-live",e.type==="error"?"assertive":"polite"),f(2),A(e.message)}}var m=class t{constructor(o){this.notificationService=o}notifications=[];subscription;ngOnInit(){this.subscription=this.notificationService.notifications$.subscribe(o=>{this.notifications=o})}ngOnDestroy(){this.subscription?.unsubscribe()}remove(o){this.notificationService.remove(o)}getNotificationClass(o){let e="px-6 py-4 rounded-lg shadow-lg mb-4 flex items-center justify-between min-w-[300px] max-w-md",i={success:"bg-green-500 text-white",error:"bg-red-500 text-white",info:"bg-blue-500 text-white",warning:"bg-yellow-500 text-white"};return`${e} ${i[o]||i.info}`}static \u0275fac=function(e){return new(e||t)(b($))};static \u0275cmp=s({type:t,selectors:[["app-toast"]],decls:2,vars:1,consts:[[1,"fixed","top-4","right-4","z-50","flex","flex-col","items-end"],["class","animate-slide-in","role","alert",3,"ngClass",4,"ngFor","ngForOf"],["role","alert",1,"animate-slide-in",3,"ngClass"],["aria-label","Cerrar notificaci\xF3n",1,"ml-4","text-white","hover:text-gray-200","focus:outline-none","focus:ring-2","focus:ring-white","rounded",3,"click"]],template:function(e,i){e&1&&(a(0,"div",0),x(1,q,5,3,"div",1),p()),e&2&&(f(),u("ngForOf",i.notifications))},dependencies:[O,D,N],styles:["@keyframes _ngcontent-%COMP%_slide-in{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slide-in .3s ease-out}"]})};var l=class t{title="ToDo App";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,i){e&1&&_(0,"router-outlet")(1,"app-toast")},dependencies:[M,m],encapsulation:2})};F(l,E).catch(t=>console.error(t));
