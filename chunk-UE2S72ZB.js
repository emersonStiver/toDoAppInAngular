import{a as E}from"./chunk-FJODFEQE.js";import"./chunk-OXF3IH4Y.js";import{a as b}from"./chunk-KJYKEEK3.js";import{E as u,H as g,J as t,K as e,N as d,O as f,P as i,Q as c,ea as v,fa as h,ja as S,ma as x,na as C,w as s,y as m,z as p}from"./chunk-TQI6H6BR.js";function I(o,r){if(o&1&&(t(0,"div",14)(1,"div")(2,"label",15),i(3,"Nombre"),e(),t(4,"p",16),i(5),e()(),t(6,"div")(7,"label",15),i(8,"Email"),e(),t(9,"p",16),i(10),e()(),t(11,"div")(12,"label",15),i(13,"Fecha de registro"),e(),t(14,"p",16),i(15),e()()()),o&2){let n=f();s(5),c(n.currentUser.name),s(5),c(n.currentUser.email),s(5),c(n.formatDate(n.currentUser.createdAt))}}var _=class o{constructor(r,n,a,l){this.authService=r;this.storageService=n;this.notificationService=a;this.router=l}currentUser=null;ngOnInit(){this.authService.currentUser$.subscribe(r=>{this.currentUser=r,r||this.router.navigate(["/login"])})}clearAllData(){confirm("\xBFEst\xE1s seguro de que deseas eliminar todos los datos? Esta acci\xF3n no se puede deshacer.")&&(this.storageService.clearAll(),this.authService.logout(),this.notificationService.info("Todos los datos han sido eliminados"),this.router.navigate(["/login"]))}formatDate(r){return new Date(r).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}onSearchChange(r){}onCreateTaskClick(){}static \u0275fac=function(n){return new(n||o)(m(C),m(x),m(b),m(S))};static \u0275cmp=p({type:o,selectors:[["app-settings"]],decls:21,vars:1,consts:[[1,"min-h-screen","bg-gray-50"],[3,"searchChange","createTaskClick"],[1,"container","mx-auto","px-4","py-8"],[1,"max-w-2xl","mx-auto"],[1,"text-3xl","font-bold","mb-6","text-gray-800"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-xl","font-semibold","mb-4","text-gray-800"],["class","space-y-3",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"text-xl","font-semibold","mb-4","text-red-600"],[1,"space-y-4"],[1,"font-medium","text-gray-700","mb-2"],[1,"text-sm","text-gray-600","mb-3"],[1,"px-4","py-2","bg-red-600","text-white","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-500","focus:ring-offset-2","transition-colors",3,"click"],[1,"space-y-3"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-gray-800"]],template:function(n,a){n&1&&(t(0,"div",0)(1,"app-header",1),d("searchChange",function(y){return a.onSearchChange(y)})("createTaskClick",function(){return a.onCreateTaskClick()}),e(),t(2,"div",2)(3,"div",3)(4,"h1",4),i(5,"Configuraci\xF3n"),e(),t(6,"div",5)(7,"h2",6),i(8,"Informaci\xF3n de la cuenta"),e(),u(9,I,16,3,"div",7),e(),t(10,"div",8)(11,"h2",9),i(12,"Zona de peligro"),e(),t(13,"div",10)(14,"div")(15,"h3",11),i(16,"Eliminar todos los datos"),e(),t(17,"p",12),i(18," Esta acci\xF3n eliminar\xE1 todas tus tareas, usuarios y sesiones. Esta acci\xF3n no se puede deshacer. "),e(),t(19,"button",13),d("click",function(){return a.clearAllData()}),i(20," Eliminar todos los datos "),e()()()()()()()),n&2&&(s(9),g("ngIf",a.currentUser))},dependencies:[h,v,E],encapsulation:2})};export{_ as SettingsComponent};
